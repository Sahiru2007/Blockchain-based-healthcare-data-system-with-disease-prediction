from transformers import T5Tokenizer, T5ForConditionalGeneration

def summarize_with_t5(example_text):
    tokenizer = T5Tokenizer.from_pretrained('t5-small')
    model = T5ForConditionalGeneration.from_pretrained('t5-small')
    inputs = tokenizer.batch_encode_plus(["summarize: " + example_text], max_length=1024, return_tensors="pt", pad_to_max_length=True)  # Batch size 1
    outputs = model.generate(inputs['input_ids'], num_beams=4, max_length=50, early_stopping=True)

    return [tokenizer.decode(g, skip_special_tokens=True, clean_up_tokenization_spaces=False) for g in outputs]

if __name__ == "__main__":
    example_text = "So do you want to start with kind of what's been going on in the last weeks or do you want to start with the homework and the square breathing that I'd suggested? So nothing much has changed in terms of what's been happening in my life. In the past two weeks, besides like the same school, worrying about COVID and what happening in terms of like my next year at college and graduating. But as for the homework, I felt that sometimes it would work, but there were times when my anxiety would just be like through the roof and like my thoughts were racing and I just put it control my thoughts and my thoughts were like controlling me so I felt like the square breathing wasn't really helping those things. Yeah, okay. So what I'm hearing then is one, things haven't really changed, right? Which is very true. There's a lot of the same thing going on every day, right? Right now with us all trying to kind of stay closer to home and you know, kind of try to practice social distancing and stuff like that. So I think that that's understandable that there haven't been any kind of major transitions or changes. And it sounds like maybe the square breathing was mildly moderately successful. There were times where at lower levels, the moderate levels of anxiety, we were able to maybe slow that down and dial that back a little bit, but in really peak times, that wasn't as helpful. Yeah, I think that's understandable, right? When our anxiety gets too high, it almost kind of takes on a life of its own and begins to override some of our normal and natural defenses as our body is scrambling to figure out why it feels so fearful, but it can identify something dangerous in that moment. So I think that that's really normal. As I said during our first session, what I like to do is I like to not encourage too many new things at once, because I think you can almost be overwhelming in its own way. Okay? So even though it can feel a little frustrating or defeating, to see that that skill didn't work for every situation, right? We're going to slowly build tools and leader toolbox, right? And tools are all meant for a specific thing, right? If I gave you a hammer, right? But you need a screwdriver. Then yeah, it's not going to be as successful, right? So we've got a hammer. The hammer worked with the nails, but it sounds like we might need some other tools, which again, makes sense, right? So why don't we work on one exploring some of those situations where it wasn't as helpful to maybe understand and gain a little insight into the anxiety we're feeling in that moment, right? And from there, I'll try to make some recommendations that might be helpful to again add more tools into your toolbox. So I found good. Yeah. Okay, great. So talking about those times where it sounds like it got a little scary and a little overwhelming, what was going on? So whenever I felt like anxiety was through roof, it would just be one time, and I felt like there were so many external factors, like all piloting up at the same time, it would be like email streaming in about the new changes to campus plans, like emails from my college, but like GPA, from friends about worrying about COVID and its changes, and all those factors just like all pilot at once that have extracts it, accumulate, and it just like builds up, so we can control it. Yeah. It sounds like it's almost too much information at one time, kind of coming at you, and it's overwhelming. Yeah. What's it like for you as you start to kind of become flooded with all of that information? Can you describe that for me a little bit more? Yeah, so at the beginning, I'll try to kind of distract myself from the initial thing that starts to come in, like the new information, but sometimes I just feel like growing a business is hard, growing at the global business is even harder. Getting paid into your bank account shouldn't be. It's finally here, Verto Global Accounts for businesses. Open accounts in seconds, and start receiving money in up to 25 currencies. Absolutely free. Each with unique account details, and in your business name, seamlessly managed in one platform make fasting secure local and international payments, pay out in over 50 plus currencies, to 190 plus countries, join thousands of businesses in over 90 countries banking with Verto. Open a free Verto Global Account now. I also get anxious to know what they're saying so that I can plan for it, and then so I attempt to check whatever all the media, all social media, all emails, everything, because I don't want to make sure that I can plan for it, but then internally, I just feel like my heart's also racing, my thoughts are, keep racing with everything that new is coming in, so I feel like I'm giving in to it, but I can't help it. Yeah, it almost sounds like it's a little defeating, and I want to normalize that for you, right? Not the defeating part, though I think that's probably normal too, when we find there we're struggling with something, but I think the desire to kind of check and recheck, right, to find out all the information, right? There's so many unknowns and so much that's outside of our control right now, that worry, right, and can give us a false sense of control. It can feel like we're doing something productive, and then it kind of, like I said before, begins to take on a life of its own and almost begins to snowball, right? And that snowball is when we find ourselves suddenly very overwhelmed, and unfortunately, all of this is happening in parts of our brain that are super important, super vital, and everything in the feeling is very important, but they're not very good at things like planning and creativity and problem solving, right? So what I want to suggest is something designed to allow you to kind of control the worry a little bit, right? We can't control the planning or the changes or the virus or the testing or the numbers or how our leaders choose to respond, or we can't control those things, right? But what I would like to do is see if we can't give you a little control over how and when you're working. How does that sound? Yeah, it sounds like it really is that. Okay, yeah. Again, I think what you're feeling is really normal and natural, so I don't feel like we need to say like, you know, bad pretty, you're not allowed to feel that. I'd rather just give you some tools so that you can have a little bit more say about when and how it's happening, okay? So what I'm going to suggest, and I will at the end of our session today, I'll actually share with you a file through one drive, so that you have kind of these written instructions, and you don't have to remember everything I'm saying, though if you want to take notes, that's a good idea. But what I'm going to suggest is a skill called worry appointments, okay? Worry appointments kind of operate with the assumption that we can't control how we feel. I cannot control the worry. I cannot control the anxiety, right? All of that's happening in the kind of the deep dark recesses of my mind, right? And what's happened is my brain has detected something that's scary or something that's making me feel out of control, and its response to that is to try to reestablish some sense of safety, right? And because it's not able to do that, it just kind of spins up, right? Again, all normal, all very natural. So worry appointments say, okay, that's going to happen, so I can't stop that. But maybe, just maybe I can control when and how I do that, right? And so what I'm going to encourage you to do, right, is to schedule appointments twice a day, usually between five to ten minutes where you're going to go into a private space, don't do this in a public area, you're going to feel extra weird, okay? But going to a private space, typically your bedroom or your bathroom or something like that, right? Stand in front of the mirror because I want you to see yourself, okay? And out loud, speak those worries, speak that anxiety, okay? And I want you to do that until that timer that you're going to set that five to ten minutes goes off. And if you run out before the timer goes off, go back and start again, right? And keep worrying about those things until that timer has subsided. Okay, what do you think of this idea? I'm seeing some like confusion on your face right now. Yeah, I'm trying to picture myself talking to myself in front of the mirror and honestly, it sounds pretty weird. And I feel like here are five reasons why I love using Creative Fabrico. They have tons of pre-made designs that I'm already allowed to use commercially and for free to demand. Number two, they have the best fonts, seriously the best fonts for designing. They have hundreds of already made mock-ups for you to use. Number four, if you suck at branding, they have tons of exy branding templates that you can use for your store. Number five, you can access their library of over seven million files or free for your first month and after that, it is only 499 a month with the annual plan. I've got mine, how about you? Any is looking for the perfect domain name deal. That's why she needs name cheap. There are hundreds of domain extensions available spanning all types of interests and industries, all at great prices, with two months of free private email, free privacy protection for life, and 24-7 expert customer support. It's why we're trusted to manage over 10 million domains worldwide. Thank you. Make more online for less. I might be more vulnerable because I'm talking to myself. What kind of weird? Honestly, it is weird. As therapists, there's oftentimes things we're recommending are a little on the odd side. Maybe if I explain a little bit why this works and is so effective, it'll help. First of all, it's weird because it feels vulnerable. I'm saying all these things I don't normally say out loud. It feels weird because I'm talking to myself. A lot of us already talk to ourselves. We already have some inner dialogue or we'll make little comments. I know my poor husband has discovered that as a result of my working from home more, I tend to talk out loud all day long. A lot of us do this already. The differences we're doing in this structured way. I remember what I said before. Anxiety is happening in some very deep emotional spaces in our brain. I'm not going to go through all the brain science because I could spend all day talking about it, but it's happening in a very deep emotional place in our brain. When that area really gets spun off, it can actually decrease blood flow and energy into the other parts of our brain. The wiser parts, the parts that are better at problem solving, planning, creativity, all things that we need in moments like this. By turning, taking"
    
    summary = summarize_with_t5(example_text)
    print(summary)
